# 要件定義書

## 1. 概要

本アプリケーションは、指定された写真販売サイトに自動でログインし、特定の人物（子ども）が写っている写真を顔認証技術を用いて探し出し、自動で「ご注文候補に追加」ボタンをクリックするRPA（Robotic Process Automation）ツールである。

## 2. 機能要件

- **設定ファイルからの認証情報読み込み**
  - `src/config.json` ファイルからログインIDとパスワードを読み込む機能を持つ。
  - この設定ファイルはGitの管理対象外とする。

- **ウェブサイトへの自動ログイン**
  - Seleniumを使用し、指定のURL（`https://ps.happysmile-inc.jp/sys/UserLogin`）にアクセスする。
  - 読み込んだIDとパスワードを用いてログインフォームに自動入力し、ログインを実行する。

- **ターゲット顔写真の指定**
  - `src/images` フォルダ内に配置されたターゲットとなる人物の顔写真を認識の基準として使用する。
  - 複数の顔写真に対応できることが望ましい。

- **顔認証による写真の特定**
  - ログイン後のページに表示されている販売写真の一覧をスキャンする。
  - 各販売写真から顔を検出し、ターゲットの顔と一致するかどうかを判定する。
  - `face_recognition` ライブラリを使用する。

- **候補追加ボタンの自動クリック**
  - ターゲットの人物が写っていると判定された写真に対応する「ご注文候補に追加」ボタンを自動でクリックする。

- **処理状況のログ表示**
  - 現在の処理状況（ログイン試行中、写真スキャン中、顔発見、ボタンクリックなど）をコンソールに分かりやすく表示する。

## 3. 非機能要件

- **セキュリティ**
  - 認証情報をハードコーディングせず、`.gitignore` で管理された設定ファイルから読み込むことで、認証情報がリポジトリに漏洩しないようにする。

- **環境**
  - Python 3.x 環境で動作すること。
  - 必要なライブラリは `requirements.txt` ファイルによって管理される。

- **操作性**
  - ユーザーは `src/config.json` に認証情報を入力し、`src/images` にターゲット写真を配置するだけで、スクリプトを実行できるようにする。

## 4. 必要なライブラリ (requirements.txt)

- `selenium`: ブラウザ操作の自動化
- `face_recognition`: 顔認証
- `opencv-python`: `face_recognition` の内部依存ライブラリ（画像処理）
- `requests`: 画像URLからのデータ取得（オプション）
